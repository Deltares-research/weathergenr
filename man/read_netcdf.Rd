% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_netcdf.R
\name{read_netcdf}
\alias{read_netcdf}
\title{Read a gridded NetCDF file into tidy weather format (fast + memory efficient)}
\usage{
read_netcdf(
  nc.file,
  variables = NULL,
  var_rename = NULL,
  leap.days = TRUE,
  omit.empty = TRUE,
  spatial.ref = "spatial_ref",
  signif.digits = NULL
)
}
\arguments{
\item{nc.file}{Path to the NetCDF file.}

\item{variables}{Character vector of variable names to load. If \code{NULL},
all variables except \code{spatial.ref} are loaded.}

\item{var_rename}{Named character vector giving new names for a subset of the
loaded variables, e.g. \code{c(precip = "prcp", temp = "T")}. Names must
be a subset of \code{variables} (or of all variables if \code{variables=NULL}).}

\item{leap.days}{Logical; whether the data include leap days. If \code{FALSE},
a no-leap daily calendar is constructed by removing Feb 29. Default \code{TRUE}.}

\item{omit.empty}{Logical; if \code{TRUE}, drop grid cells where all values
are NA for all variables and times. Default \code{TRUE}.}

\item{spatial.ref}{Name of the spatial reference variable in the NetCDF file
(used to get x/y dimension names). Default \code{"spatial_ref"}.}

\item{signif.digits}{Optional integer; if not \code{NULL}, values are rounded
to this number of significant digits.}
}
\value{
A list with components:
\describe{
  \item{data}{List of tibbles; one tibble per grid cell (rows = time, columns = variables).}
  \item{grid}{Tibble with columns \code{id, xind, yind, x, y}.}
  \item{date}{Vector of \code{Date} objects.}
  \item{dimensions}{Named list of dimension vectors (e.g. x, y, time).}
  \item{attributes}{List of variable attributes, spatial reference attributes,
        and global attributes. Variable names reflect any renaming.}
}
}
\description{
Efficiently reads 3D (x, y, time) gridded variables from a NetCDF file and
returns:
\itemize{
  \item per-grid-cell tidy time series (list of tibbles),
  \item grid coordinates and indices,
  \item a Date vector,
  \item dimension metadata,
  \item variable and global attributes.
}

Variable behaviour:
\itemize{
  \item \code{variables = NULL} ??? load all data variables (except \code{spatial.ref}).
  \item \code{variables = c("var1","var2")} ??? load only these variables.
  \item \code{var_rename = c(old1 = "new1", old2 = "new2")} ??? rename a subset
        of the loaded variables in the output (columns, attributes, dimnames).
        All names in \code{var_rename} must be among the selected variables.
}
}
